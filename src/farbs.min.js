/*
 farbs - A Framework Agnostic Registry Based Skeleton for decoupled
 UI components
 Copyright (c) 2013 Jens Arps
 http://jensarps.de/

 Licensed under the MIT (X11) license
*/
define(function(){var e={version:"0.3.0",classRegistry:{},instRegistry:{},methodRegistry:{},listeners:{},registerClass:function(a,b){this.classRegistry[a]=b},registerInstance:function(a,b){this.instRegistry[a]=b},registerMethod:function(a,b){this.methodRegistry[a]=b},publish:function(a,b){this.listeners[a]&&this.listeners[a].forEach(function(a){a(b)})},subscribe:function(a,b){this.listeners[a]||(this.listeners[a]=[]);this.listeners[a].push(b)},unsubscribe:function(a,b){var c=this.listeners[a];if(c)for(var d=
c.length-1;0<=d;d--)c[d]===b&&c.splice(d,1)},parse:function(a){a=a||document.documentElement;[].slice.call(a.querySelectorAll("[data-farbs_type]")).forEach(function(a){var c=e.classRegistry[a.dataset.farbs_type];if(c){if(!a.id)a.id="_farbs_widget_"+g++;var c=new c(a,e),d;for(d in a.dataset)if("farbs"==d.slice(0,5)){var f=d.slice(6);"type"!=f&&(c[f]=a.dataset[d])}e.registerInstance(a.id,c)}})}},g=0;return e});
