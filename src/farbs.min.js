/*
 farbs - A Framework Agnostic Registry Based Skeleton for decoupled
 UI components
 Copyright (c) 2013 Jens Arps
 http://jensarps.de/

 Licensed under the MIT (X11) license
*/
define(function(){var e={version:"0.3.0",attributeName:"farbs",classRegistry:{},instRegistry:{},methodRegistry:{},listeners:{},registerClass:function(a,b){this.classRegistry[a]=b},registerInstance:function(a,b){this.instRegistry[a]=b},registerMethod:function(a,b){this.methodRegistry[a]=b},publish:function(a,b){this.listeners[a]&&this.listeners[a].forEach(function(a){a(b)})},subscribe:function(a,b){(this.listeners[a]||(this.listeners[a]=[])).push(b)},unsubscribe:function(a,b){var c=this.listeners[a];
if(c)for(var d=c.length-1;0<=d;d--)c[d]===b&&c.splice(d,1)},parse:function(a){var a=a||document.documentElement,b=e.attributeName,c=b+"_type",d=b.length;[].slice.call(a.querySelectorAll("[data-"+c+"]")).forEach(function(a){var f=e.classRegistry[a.dataset[c]];if(f){var j=a.id||(a.id="_"+b+"_widget_"+i++),f=new f(a,e),g;for(g in a.dataset)if(g.slice(0,d)==b){var h=g.slice(d+1);"type"!=h&&(f[h]=a.dataset[g])}e.registerInstance(j,f)}})}},i=0;return e});
