/*
 farbs - A Framework Agnostic Registry Based Skeleton for decoupled
 UI components
 Copyright (c) 2013 Jens Arps
 http://jensarps.de/

 Licensed under the MIT (X11) license
*/
define(function(){var e={version:"0.2.0",classRegistry:{},instRegistry:{},methodRegistry:{},listeners:{},registerClass:function(a,b){this.classRegistry[a]=b},registerInstance:function(a,b){this.instRegistry[a]=b},registerMethod:function(a,b){this.methodRegistry[a]=b},publish:function(a,b){this.listeners[a]&&this.listeners[a].forEach(function(a){a(b)})},subscribe:function(a,b){this.listeners[a]||(this.listeners[a]=[]);this.listeners[a].push(b)},unsubscribe:function(a,b){if(this.listeners[a]){var e=
this.listeners[a];e.forEach(function(a,d){a===b&&e.splice(d,1)})}},parse:function(a){for(var a=a||document.documentElement,a=a.querySelectorAll("[data-farbs_type]"),b=0,h=a.length;b<h;b++){var c=a[b],d=e.classRegistry[c.dataset.farbs_type];if(!d)break;if(!c.id)c.id="_farbs_widget_"+i++;var d=new d(c,e),f;for(f in c.dataset)if("farbs"==f.slice(0,5)){var g=f.slice(6);"type"!=g&&(d[g]=c.dataset[f])}e.registerInstance(c.id,d)}}},i=0;return e});
